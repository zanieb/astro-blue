---
/**
 * Custom PageTitle with breadcrumb - Mintlify style
 * Shows parent section above the page title
 */

// Get route data from Starlight
const { entry, slug } = Astro.locals.starlightRoute;
const title = entry?.data?.title || 'Untitled';

// Extract parent section from the slug (e.g., "getting-started/installation" -> "Getting Started")
const parts = (slug || '').split('/');

// Get parent section (first part of path, if exists and not the only part)
let parentSection = '';
if (parts.length > 1 && parts[0]) {
  // Convert slug to title case (e.g., "getting-started" -> "Getting Started")
  parentSection = parts[0]
    .split('-')
    .map(word => word.charAt(0).toUpperCase() + word.slice(1))
    .join(' ');
}
---

<div class="page-title-wrapper">
  {parentSection && (
    <div class="breadcrumb">
      {parentSection}
    </div>
  )}
  <h1 id="_top">{title}</h1>
</div>

<style>
  .page-title-wrapper {
    margin-bottom: 1rem;
  }

  .breadcrumb {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--theme-text-muted, var(--sl-color-gray-3));
    margin-bottom: 0.25rem;
  }

  h1 {
    font-size: 2.25rem;
    font-weight: 600;
    line-height: 1.2;
    color: var(--sl-color-white);
    margin: 0;
  }
</style>
