---
/**
 * Custom PageTitle with breadcrumb - Mintlify style
 * Shows full path above the page title (e.g., "Guides > Integrations")
 */

// Get route data from Starlight
const { entry, slug } = Astro.locals.starlightRoute;
const title = entry?.data?.title || 'Untitled';

// Extract breadcrumb path from the slug
const parts = (slug || '').split('/');

// Build breadcrumb from all path segments except the last (current page)
const breadcrumbParts = parts.slice(0, -1).map(part =>
  part.split('-').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ')
);
const breadcrumb = breadcrumbParts.join(' > ');
---

<div class="page-title-wrapper">
  {breadcrumb && (
    <div class="breadcrumb">
      {breadcrumb}
    </div>
  )}
  <h1 id="_top">{title}</h1>
</div>

<style>
  .page-title-wrapper {
    margin-bottom: 1rem;
  }

  .breadcrumb {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--theme-text-muted, var(--sl-color-gray-3));
    margin-bottom: 0.25rem;
  }

  h1 {
    font-size: 2.25rem;
    font-weight: 600;
    line-height: 1.2;
    color: var(--sl-color-white);
    margin: 0;
  }
</style>
