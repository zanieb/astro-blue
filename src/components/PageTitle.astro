---
/**
 * Custom PageTitle with breadcrumb - Mintlify style
 * Shows full clickable path above the page title (e.g., "Guides > Integrations")
 */

// Get route data from Starlight
const { entry, slug } = Astro.locals.starlightRoute;
const title = entry?.data?.title || 'Untitled';

// Extract breadcrumb path from the slug
const parts = (slug || '').split('/');

// Build breadcrumb items with links
const breadcrumbItems = parts.slice(0, -1).map((part, index) => {
  const label = part.split('-').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');
  const href = '/' + parts.slice(0, index + 1).join('/') + '/';
  return { label, href };
});
---

<div class="page-title-wrapper">
  {breadcrumbItems.length > 0 && (
    <nav class="breadcrumb" aria-label="Breadcrumb">
      {breadcrumbItems.map((item, i) => (
        <>
          <a href={item.href}>{item.label}</a>
          {i < breadcrumbItems.length - 1 && <span class="separator">&gt;</span>}
        </>
      ))}
    </nav>
  )}
  <h1 id="_top">{title}</h1>
</div>

<style>
  .page-title-wrapper {
    margin-bottom: 1rem;
  }

  .breadcrumb {
    font-size: 0.875rem;
    font-weight: 500;
    margin-bottom: 0.25rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .breadcrumb a {
    color: var(--theme-text-muted, var(--sl-color-gray-3));
    text-decoration: none;
  }

  .breadcrumb a:hover {
    color: var(--theme-accent);
    text-decoration: underline;
  }

  .breadcrumb .separator {
    color: var(--theme-text-subtle, var(--sl-color-gray-4));
  }

  h1 {
    font-size: 2.25rem;
    font-weight: 600;
    line-height: 1.2;
    color: var(--sl-color-white);
    margin: 0;
  }
</style>
