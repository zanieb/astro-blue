---
/**
 * Callout component - Mintlify style
 * A clean, minimal callout with just an icon and content (no title text)
 *
 * Usage:
 * <Callout>This is a note.</Callout>
 * <Callout type="tip">This is a tip.</Callout>
 * <Callout type="warning">Be careful!</Callout>
 * <Callout type="danger">This is dangerous!</Callout>
 */

export interface Props {
  type?: 'note' | 'tip' | 'warning' | 'danger';
}

const { type = 'note' } = Astro.props;

// Icon SVGs for each type
const icons = {
  note: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>`,
  tip: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v4"/><path d="m6.34 6.34 2.83 2.83"/><path d="M2 12h4"/><path d="m17.66 6.34-2.83 2.83"/><path d="M22 12h-4"/><path d="m6.34 17.66 2.83-2.83"/><path d="M12 18v4"/><path d="m17.66 17.66-2.83-2.83"/></svg>`,
  warning: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"/><path d="M12 9v4"/><path d="M12 17h.01"/></svg>`,
  danger: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></svg>`,
};
---

<div class:list={['callout', `callout--${type}`]}>
  <span class="callout-icon" set:html={icons[type]} />
  <div class="callout-content">
    <slot />
  </div>
</div>

<style>
  .callout {
    display: flex;
    gap: 0.75rem;
    padding: 1rem 1.25rem;
    border-radius: 0.5rem;
    margin: 1.5rem 0;
    font-size: 0.9375rem;
    line-height: 1.6;
  }

  .callout-icon {
    flex-shrink: 0;
    margin-top: 0.125rem;
  }

  .callout-content {
    flex: 1;
    min-width: 0;
  }

  .callout-content :global(p:first-child) {
    margin-top: 0;
  }

  .callout-content :global(p:last-child) {
    margin-bottom: 0;
  }

  /* Note - blue/purple tint like Mintlify */
  .callout--note {
    background: rgba(139, 92, 246, 0.08);
    color: var(--theme-text);
  }

  .callout--note .callout-icon {
    color: #8b5cf6;
  }

  /* Tip - green */
  .callout--tip {
    background: rgba(34, 197, 94, 0.08);
    color: var(--theme-text);
  }

  .callout--tip .callout-icon {
    color: #22c55e;
  }

  /* Warning - amber/orange */
  .callout--warning {
    background: rgba(245, 158, 11, 0.08);
    color: var(--theme-text);
  }

  .callout--warning .callout-icon {
    color: #f59e0b;
  }

  /* Danger - red */
  .callout--danger {
    background: rgba(239, 68, 68, 0.08);
    color: var(--theme-text);
  }

  .callout--danger .callout-icon {
    color: #ef4444;
  }
</style>
