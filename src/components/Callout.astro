---
/**
 * Callout component - Mintlify style
 * A clean, minimal callout with just an icon and content (no title text)
 *
 * Usage:
 * <Callout>This is a note.</Callout>
 * <Callout type="tip">This is a tip.</Callout>
 * <Callout type="warning">Be careful!</Callout>
 * <Callout type="danger">This is dangerous!</Callout>
 */

import InfoIcon from '../icons/InfoIcon.astro';
import TipIcon from '../icons/TipIcon.astro';
import WarningIcon from '../icons/WarningIcon.astro';
import DangerIcon from '../icons/DangerIcon.astro';

export interface Props {
  type?: 'note' | 'tip' | 'warning' | 'danger';
}

const { type = 'note' } = Astro.props;

// Map types to icon components
const iconComponents = {
  note: InfoIcon,
  tip: TipIcon,
  warning: WarningIcon,
  danger: DangerIcon,
};

const IconComponent = iconComponents[type];
---

<div class:list={['callout', `callout--${type}`]}>
  <span class="callout-icon">
    <IconComponent />
  </span>
  <div class="callout-content">
    <slot />
  </div>
</div>

<style>
  .callout {
    display: flex;
    gap: 0.75rem;
    padding: 1rem 1.25rem;
    border-radius: 0.5rem;
    margin: 1.5rem 0;
    font-size: 0.9375rem;
    line-height: 1.6;
  }

  .callout-icon {
    flex-shrink: 0;
    margin-top: 0.125rem;
  }

  .callout-content {
    flex: 1;
    min-width: 0;
  }

  .callout-content :global(p:first-child) {
    margin-top: 0;
  }

  .callout-content :global(p:last-child) {
    margin-bottom: 0;
  }

  /* Note - blue/purple tint like Mintlify */
  .callout--note {
    background: rgba(139, 92, 246, 0.08);
    color: var(--theme-text);
  }

  .callout--note .callout-icon {
    color: #8b5cf6;
  }

  /* Tip - green */
  .callout--tip {
    background: rgba(34, 197, 94, 0.08);
    color: var(--theme-text);
  }

  .callout--tip .callout-icon {
    color: #22c55e;
  }

  /* Warning - amber/orange */
  .callout--warning {
    background: rgba(245, 158, 11, 0.08);
    color: var(--theme-text);
  }

  .callout--warning .callout-icon {
    color: #f59e0b;
  }

  /* Danger - red */
  .callout--danger {
    background: rgba(239, 68, 68, 0.08);
    color: var(--theme-text);
  }

  .callout--danger .callout-icon {
    color: #ef4444;
  }
</style>
