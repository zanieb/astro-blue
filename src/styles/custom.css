/* Astral color theme from pyx.dev */

/* ===========================================
   Base Color Palette (shared)
   =========================================== */
:root {
  /* Primary purple */
  --astral-primary: rgb(38 18 48);
  --astral-primary-light: rgb(215 255 100);
  --astral-primary-dark: rgb(99 64 172);

  /* Backgrounds */
  --astral-bg-light: rgb(255 255 255);
  --astral-bg-dark: rgb(13 14 13);

  /* Grayscale */
  --astral-gray-50: rgb(244 243 244);
  --astral-gray-100: rgb(239 238 239);
  --astral-gray-200: rgb(223 223 223);
  --astral-gray-300: rgb(207 206 207);
  --astral-gray-400: rgb(159 159 159);
  --astral-gray-500: rgb(113 112 113);
  --astral-gray-600: rgb(81 80 81);
  --astral-gray-700: rgb(63 63 64);
  --astral-gray-800: rgb(38 37 38);
  --astral-gray-900: rgb(23 23 24);
  --astral-gray-950: rgb(11 10 11);

  /* Accent colors - shared */
  --sl-color-accent-low: var(--astral-primary);
  --sl-color-accent: var(--astral-primary-dark);
  --sl-color-accent-high: var(--astral-primary-light);
}

/* ===========================================
   Light Theme
   =========================================== */
:root[data-theme='light'] {
  /* Starlight color mappings */
  --sl-color-white: var(--astral-bg-dark);
  --sl-color-gray-1: var(--astral-gray-900);
  --sl-color-gray-2: var(--astral-gray-800);
  --sl-color-gray-3: var(--astral-gray-600);
  --sl-color-gray-4: var(--astral-gray-400);
  --sl-color-gray-5: var(--astral-gray-200);
  --sl-color-gray-6: var(--astral-gray-100);
  --sl-color-black: var(--astral-bg-light);

  /* Light mode backgrounds - sidebar matches content for clean look */
  --sl-color-bg: var(--astral-bg-light);
  --sl-color-bg-nav: var(--astral-bg-light);
  --sl-color-bg-sidebar: var(--astral-bg-light);
  --sl-color-hairline-light: var(--astral-gray-200);
  --sl-color-hairline: var(--astral-gray-300);

  /* Theme-aware colors for components */
  --theme-text: var(--astral-gray-900);
  --theme-text-muted: var(--astral-gray-600);
  --theme-text-subtle: var(--astral-gray-500);
  --theme-bg-hover: var(--astral-gray-100);
  --theme-border: var(--astral-gray-200);
  --theme-sidebar-header: var(--astral-gray-500);
  --theme-sidebar-link: var(--astral-gray-700);
  --theme-sidebar-link-hover: var(--astral-gray-900);

  /* Light mode accent - subtle gray for selected items like Mintlify */
  --theme-accent: var(--astral-gray-900);
  --theme-accent-bg: var(--astral-gray-100);
}

/* ===========================================
   Dark Theme
   =========================================== */
:root[data-theme='dark'] {
  /* Starlight color mappings */
  --sl-color-white: var(--astral-bg-light);
  --sl-color-gray-1: var(--astral-gray-100);
  --sl-color-gray-2: var(--astral-gray-200);
  --sl-color-gray-3: var(--astral-gray-400);
  --sl-color-gray-4: var(--astral-gray-600);
  --sl-color-gray-5: var(--astral-gray-700);
  --sl-color-gray-6: var(--astral-gray-800);
  --sl-color-black: var(--astral-bg-dark);

  /* Dark mode backgrounds */
  --sl-color-bg: var(--astral-bg-dark);
  --sl-color-bg-nav: var(--astral-gray-950);
  --sl-color-bg-sidebar: var(--astral-gray-950);
  --sl-color-hairline-light: var(--astral-gray-800);
  --sl-color-hairline: var(--astral-gray-700);

  /* Theme-aware colors for components */
  --theme-text: var(--astral-gray-100);
  --theme-text-muted: var(--astral-gray-300);
  --theme-text-subtle: var(--astral-gray-400);
  --theme-bg-hover: var(--astral-gray-800);
  --theme-border: var(--astral-gray-700);
  --theme-sidebar-header: var(--astral-gray-400);
  --theme-sidebar-link: var(--astral-gray-300);
  --theme-sidebar-link-hover: var(--astral-gray-50);

  /* Dark mode accent - lime green */
  --theme-accent: var(--astral-primary-light);
  --theme-accent-bg: var(--astral-primary);
}

/* ===========================================
   Typography
   =========================================== */
html {
  font-feature-settings: "kern" 1, "liga" 1;
}

/* Heading weights - Mintlify uses slightly lighter */
.sl-markdown-content h2 {
  font-weight: 600;
}

.sl-markdown-content h3,
.sl-markdown-content h4 {
  font-weight: 500;
}

/* Body line-height - more generous like Mintlify */
.sl-markdown-content {
  line-height: 1.75;
}

/* List spacing - more generous */
.sl-markdown-content ul,
.sl-markdown-content ol {
  margin-bottom: 1.25rem;
}

.sl-markdown-content li {
  margin-bottom: 0.5rem;
}

/* Page title - no underline (Mintlify style) */
h1#_top,
.page-title-wrapper h1 {
  border-bottom: none;
  padding-bottom: 0;
}

.content-panel h1 {
  border-bottom: none;
}

/* ===========================================
   Content Layout (Mintlify style - narrower)
   =========================================== */
.sl-container {
  --sl-content-width: 42rem;
  padding-left: 1.5rem;
  padding-right: 1.5rem;
}

/* Add padding to sidebar */
.sidebar {
  padding-left: 1rem;
}

.content-panel {
  max-width: var(--sl-content-width);
  padding-left: 2rem;
}

/* ===========================================
   Lists (Mintlify style)
   =========================================== */
.sl-markdown-content ol {
  list-style: none;
  counter-reset: list-counter;
  padding-left: 0;
}

.sl-markdown-content ol > li {
  counter-increment: list-counter;
  position: relative;
  padding-left: 2rem;
  margin-bottom: 0.5rem;
}

.sl-markdown-content ol > li::before {
  content: counter(list-counter) ".";
  position: absolute;
  left: 0;
  color: var(--theme-text-muted);
  font-weight: 500;
}

/* ===========================================
   Code blocks (clean, no window/header)
   =========================================== */
pre {
  border: 1px solid var(--theme-border);
  border-radius: 0.75rem;
}

/* Hide code block header/frame */
.expressive-code .frame:not(.has-title):not(.is-terminal) .header,
.expressive-code .frame .header:empty {
  display: none;
}

/* Clean up code block frame */
.expressive-code .frame {
  border: 1px solid var(--theme-border);
  border-radius: 0.75rem;
  overflow: hidden;
}

.expressive-code .frame:not(.has-title) {
  border-top-left-radius: 0.75rem;
  border-top-right-radius: 0.75rem;
}

/* Remove copy button styling issues */
.expressive-code .copy button {
  border-radius: 0.375rem;
}

/* ===========================================
   Asides/Admonitions (Mintlify style)
   =========================================== */
.starlight-aside {
  border: 1px solid var(--theme-border);
  border-left: 3px solid var(--sl-color-accent);
  border-radius: 0.5rem;
  background: transparent;
  padding: 1rem 1.25rem;
  margin: 1.5rem 0;
}

.starlight-aside--note {
  border-left-color: var(--sl-color-blue);
}

.starlight-aside--tip {
  border-left-color: var(--sl-color-green);
}

.starlight-aside--caution {
  border-left-color: var(--sl-color-orange);
}

.starlight-aside--danger {
  border-left-color: var(--sl-color-red);
}

.starlight-aside__title {
  font-weight: 600;
  font-size: 0.875rem;
  margin-bottom: 0.5rem;
}

.starlight-aside__content {
  font-size: 0.9375rem;
}

.starlight-aside__content p:last-child {
  margin-bottom: 0;
}

/* ===========================================
   Header (Mintlify style - minimal border)
   =========================================== */
header.header {
  border-bottom: none;
}

/* ===========================================
   Remove excessive rules/dividers
   =========================================== */
hr,
.sl-markdown-content hr {
  display: none;
}

/* Remove content panel borders */
.content-panel {
  border: none;
}

/* ===========================================
   Transitions (smooth hovers)
   =========================================== */
a,
button,
summary {
  transition: color 0.15s ease, background-color 0.15s ease, border-color 0.15s ease;
}

/* ===========================================
   Search Bar (Mintlify style)
   =========================================== */
.search-item button {
  border-radius: 0.5rem;
  border: 1px solid var(--theme-border);
  background: transparent;
}

.search-item button:hover {
  border-color: var(--sl-color-gray-4);
}

/* Pagefind modal styling */
.pagefind-ui {
  --pagefind-ui-border-radius: 0.5rem;
}

/* ===========================================
   Links
   =========================================== */
a:hover {
  color: var(--theme-accent);
}

/* ===========================================
   Mintlify-style Sidebar
   =========================================== */

/* Sidebar panel - subtle right border */
.sidebar {
  border-right: 1px solid var(--theme-border);
}

/* Sidebar container */
.sidebar-content {
  padding: 1rem 0.75rem;
}

/* Top-level list - remove default spacing */
.sidebar-content ul {
  padding: 0;
  margin: 0;
  list-style: none;
}

/* Group container (details element) */
.sidebar-content details {
  margin-bottom: 0.25rem;
}

/* Group header (summary) - Mintlify style: simple, not uppercase */
.sidebar-content summary {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.5rem 0.75rem;
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--theme-sidebar-header);
  cursor: pointer;
  border-radius: 0.375rem;
  transition: color 0.15s ease;
}

.sidebar-content summary:hover {
  color: var(--theme-sidebar-link-hover);
}

/* Hide default marker */
.sidebar-content summary::-webkit-details-marker,
.sidebar-content summary::marker {
  display: none;
  content: "";
}

/* Group label text */
.sidebar-content .group-label {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* Override Starlight's .large class on group labels */
.sidebar-content .group-label .large {
  font-size: 0.875rem;
  font-weight: 600;
}

/* Nested group headers - styled like regular links */
.sidebar-content details details summary {
  font-size: 0.875rem;
  font-weight: 400;
  text-transform: none;
  letter-spacing: normal;
  color: var(--theme-sidebar-link);
  padding: 0.375rem 0.75rem;
}

.sidebar-content details details summary:hover {
  color: var(--theme-sidebar-link-hover);
  background: var(--theme-bg-hover);
}

.sidebar-content details details .group-label .large {
  font-size: 0.875rem;
  font-weight: 400;
  color: inherit;
}

/* Caret icon */
.sidebar-content .caret {
  width: 1rem;
  height: 1rem;
  opacity: 0.5;
  transition: transform 0.2s ease, opacity 0.15s ease;
}

.sidebar-content summary:hover .caret {
  opacity: 0.8;
}

.sidebar-content details[open] > summary .caret {
  transform: rotate(90deg);
}

/* Remove all vertical bars from sidebar */
.sidebar-content ul,
.sidebar-content li {
  border-left: none !important;
}

/* First-level links - same indent as header */
.sidebar-content details > ul {
  margin-top: 0.25rem;
  margin-left: 0;
  padding-left: 0;
}

/* Only indent nested groups (2+ levels deep) */
.sidebar-content details details > ul {
  margin-left: 1rem;
  padding-left: 0;
}

/* Link items - reset Starlight's default padding */
.sidebar-content li {
  margin: 0;
  padding: 0;
}

/* Links */
.sidebar-content a {
  display: block;
  padding: 0.25rem 0.75rem;
  font-size: 0.875rem;
  font-weight: 400;
  color: var(--theme-sidebar-link);
  text-decoration: none;
  border-radius: 0.375rem;
}

.sidebar-content a:hover {
  color: var(--theme-sidebar-link-hover);
  background: var(--theme-bg-hover);
}

/* Selected item */
.sidebar-content a[aria-current="page"] {
  color: var(--theme-accent);
  background: var(--theme-accent-bg);
  font-weight: 500;
}

.sidebar-content a[aria-current="page"]:hover {
  color: var(--theme-accent);
  background: var(--theme-accent-bg);
}

/* Remove Starlight's default top-level styling */
.sidebar-content .top-level > li {
  margin-bottom: 0.5rem;
}

/* Remove dividers between major sections */
.sidebar-content .top-level > li:not(:first-child) {
  padding-top: 0.5rem;
  border-top: none;
}
