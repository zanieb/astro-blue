/* Astral color theme from pyx.dev */

/* ===========================================
   Base Color Palette (shared)
   =========================================== */
:root {
  /* Primary purple */
  --astral-primary: rgb(38 18 48);
  --astral-primary-light: rgb(215 255 100);
  --astral-primary-dark: rgb(99 64 172);

  /* Backgrounds */
  --astral-bg-light: rgb(255 255 255);
  --astral-bg-dark: rgb(13 14 13);

  /* Grayscale */
  --astral-gray-50: rgb(244 243 244);
  --astral-gray-100: rgb(239 238 239);
  --astral-gray-200: rgb(223 223 223);
  --astral-gray-300: rgb(207 206 207);
  --astral-gray-400: rgb(159 159 159);
  --astral-gray-500: rgb(113 112 113);
  --astral-gray-600: rgb(81 80 81);
  --astral-gray-700: rgb(63 63 64);
  --astral-gray-800: rgb(38 37 38);
  --astral-gray-900: rgb(23 23 24);
  --astral-gray-950: rgb(11 10 11);

  /* Accent colors - shared */
  --sl-color-accent-low: var(--astral-primary);
  --sl-color-accent: var(--astral-primary-dark);
  --sl-color-accent-high: var(--astral-primary-light);
}

/* ===========================================
   Light Theme
   =========================================== */
:root[data-theme='light'] {
  /* Starlight color mappings */
  --sl-color-white: var(--astral-bg-dark);
  --sl-color-gray-1: var(--astral-gray-900);
  --sl-color-gray-2: var(--astral-gray-800);
  --sl-color-gray-3: var(--astral-gray-600);
  --sl-color-gray-4: var(--astral-gray-400);
  --sl-color-gray-5: var(--astral-gray-200);
  --sl-color-gray-6: var(--astral-gray-100);
  --sl-color-black: var(--astral-bg-light);

  /* Light mode backgrounds - sidebar matches content for clean look */
  --sl-color-bg: var(--astral-bg-light);
  --sl-color-bg-nav: var(--astral-bg-light);
  --sl-color-bg-sidebar: var(--astral-bg-light);
  --sl-color-hairline-light: var(--astral-gray-200);
  --sl-color-hairline: var(--astral-gray-300);

  /* Theme-aware colors for components */
  --theme-text: var(--astral-gray-900);
  --theme-text-muted: var(--astral-gray-600);
  --theme-text-subtle: var(--astral-gray-500);
  --theme-bg-hover: var(--astral-gray-100);
  --theme-border: var(--astral-gray-200);
  --theme-header-border: rgba(113, 112, 113, 0.05); /* Subtle header border like Mintlify */
  --theme-sidebar-header: var(--astral-gray-500);
  --theme-sidebar-link: var(--astral-gray-700);
  --theme-sidebar-link-hover: var(--astral-gray-900);

  /* Light mode accent - subtle gray for selected items like Mintlify */
  --theme-accent: var(--astral-gray-900);
  --theme-accent-bg: var(--astral-gray-100);
}

/* ===========================================
   Dark Theme
   =========================================== */
:root[data-theme='dark'] {
  /* Starlight color mappings */
  --sl-color-white: var(--astral-bg-light);
  --sl-color-gray-1: var(--astral-gray-100);
  --sl-color-gray-2: var(--astral-gray-200);
  --sl-color-gray-3: var(--astral-gray-400);
  --sl-color-gray-4: var(--astral-gray-600);
  --sl-color-gray-5: var(--astral-gray-700);
  --sl-color-gray-6: var(--astral-gray-800);
  --sl-color-black: var(--astral-bg-dark);

  /* Dark mode backgrounds */
  --sl-color-bg: var(--astral-bg-dark);
  --sl-color-bg-nav: var(--astral-gray-950);
  --sl-color-bg-sidebar: var(--astral-gray-950);
  --sl-color-hairline-light: var(--astral-gray-800);
  --sl-color-hairline: var(--astral-gray-700);

  /* Theme-aware colors for components */
  --theme-text: var(--astral-gray-100);
  --theme-text-muted: var(--astral-gray-300);
  --theme-text-subtle: var(--astral-gray-400);
  --theme-bg-hover: var(--astral-gray-800);
  --theme-border: var(--astral-gray-700);
  --theme-header-border: rgba(207, 206, 207, 0.06); /* Subtle header border like Mintlify */
  --theme-sidebar-header: var(--astral-gray-400);
  --theme-sidebar-link: var(--astral-gray-300);
  --theme-sidebar-link-hover: var(--astral-gray-50);

  /* Dark mode accent - lime green */
  --theme-accent: var(--astral-primary-light);
  --theme-accent-bg: var(--astral-primary);
}

/* ===========================================
   Typography
   =========================================== */
html {
  font-feature-settings:
    'kern' 1,
    'liga' 1;
  /* Prevent scroll chaining to allow sidebar scroll on hover */
  overscroll-behavior: none;
}

/* Heading weights - Mintlify uses slightly lighter */
.sl-markdown-content h2 {
  font-weight: 600;
}

.sl-markdown-content h3,
.sl-markdown-content h4 {
  font-weight: 500;
}

/* Body line-height - more generous like Mintlify */
.sl-markdown-content {
  line-height: 1.75;
}

/* Reduce top margin on first content element (Mintlify style - tight spacing after title) */
.sl-markdown-content > *:first-child {
  margin-top: 0;
}

/* List spacing - more generous */
.sl-markdown-content ul,
.sl-markdown-content ol:not(.sl-steps) {
  margin-bottom: 1.25rem;
}

.sl-markdown-content li {
  margin-bottom: 0.5rem;
}

/* Steps component reset - ensure Starlight Steps styles work correctly */
.sl-markdown-content ol.sl-steps,
.sl-markdown-content ul.sl-steps {
  list-style: none;
  padding-left: 0;
  padding-inline-start: 0;
}

.sl-markdown-content ol.sl-steps > li,
.sl-markdown-content ul.sl-steps > li {
  margin-bottom: 0;
  padding-left: calc(var(--bullet-size, 1.75rem) + 1rem);
}

/* Page title - no underline (Mintlify style) */
h1#_top,
.page-title-wrapper h1 {
  border-bottom: none;
  padding-bottom: 0;
}

.content-panel h1 {
  border-bottom: none;
}

/* ===========================================
   Content Layout (Mintlify style)
   =========================================== */
.sl-container {
  --sl-content-width: 50rem;
}

/* Match PYX left margin (~32px) for whole page */
/* Sidebar uses position:fixed, so needs explicit left value */
/* Only apply on desktop when sidebar is visible */
@media (min-width: 50rem) {
  aside.sidebar-pane,
  .sidebar .sidebar-pane {
    left: 2rem;
  }
}

.sidebar-pane {
  /* Fix scroll behavior - allow scrolling on hover without click */
  overscroll-behavior: contain;
  /* Stable scrollbar gutter prevents layout shift when scrollbar appears */
  scrollbar-gutter: stable;
}

/* ===========================================
   Scrollbar Styling (Mintlify-like thin scrollbars)
   =========================================== */
/* Webkit browsers (Chrome, Safari, Edge) */
.sidebar-pane::-webkit-scrollbar {
  width: 6px;
}

.sidebar-pane::-webkit-scrollbar-track {
  background: transparent;
}

.sidebar-pane::-webkit-scrollbar-thumb {
  background: var(--theme-border);
  border-radius: 3px;
}

.sidebar-pane::-webkit-scrollbar-thumb:hover {
  background: var(--theme-text-muted);
}

/* Firefox */
.sidebar-pane {
  scrollbar-width: thin;
  scrollbar-color: var(--theme-border) transparent;
}

/* Main content needs padding-left = sidebar-left + sidebar-width */
/* Default sidebar width is 300px (18.75rem), so total = 2rem + 18.75rem = 20.75rem */
/* Only apply on desktop when sidebar is visible */
@media (min-width: 50rem) {
  .page .main-frame,
  main.main-frame {
    padding-left: calc(2rem + var(--sl-sidebar-width, 18.75rem));
  }
}

/* Header - symmetric padding (32px) to match PYX */
header.header {
  padding-left: 2rem;
  padding-right: 2rem;
}

header.header > .header {
  padding-left: 0;
  padding-right: 0;
}

.content-panel {
  max-width: 50rem;
}

/* Reduce right-side whitespace - hide TOC on smaller widths */
.right-sidebar {
  display: none;
}

@media (min-width: 72rem) {
  .right-sidebar {
    display: block;
    min-width: 14rem;
    margin-left: 4rem;
    /* Align TOC right edge with header right edge (2rem from viewport) */
    right: 2rem;
  }
}

/* Right sidebar TOC - smaller font to match Mintlify */
.right-sidebar-panel h2 {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--theme-text);
  margin-bottom: 0.75rem;
}

/* TOC list styling */
.right-sidebar-panel ul {
  padding: 0;
  margin: 0;
  list-style: none;
}

/* Nested TOC lists - indent */
.right-sidebar-panel ul ul {
  padding-left: 0.75rem;
  margin-top: 0.25rem;
  margin-bottom: 0.25rem;
}

/* All TOC links base styles */
.right-sidebar-panel a {
  display: block;
  font-size: 0.8125rem;
  color: var(--theme-text-muted);
  text-decoration: none;
  padding: 0.25rem 0;
  line-height: 1.4;
  transition: color 0.15s ease;
}

.right-sidebar-panel a:hover {
  color: var(--theme-text);
}

/* Active TOC link */
.right-sidebar-panel a[aria-current='true'] {
  color: var(--theme-text);
  font-weight: 500;
}

/* Top-level TOC items (h2 headings) - muted like child items */
.right-sidebar-panel li[style*='--depth: 0'] > a {
  font-weight: 500;
  color: var(--theme-text-muted);
}

.right-sidebar-panel li[style*='--depth: 0'] > a:hover {
  color: var(--theme-accent);
}

/* Nested TOC items (h3+ headings) - lighter weight, muted */
.right-sidebar-panel li[style*='--depth: 1'] > a,
.right-sidebar-panel li[style*='--depth: 2'] > a {
  font-weight: 400;
  font-size: 0.8125rem;
  color: var(--theme-text-muted);
}

.right-sidebar-panel li[style*='--depth: 1'] > a:hover,
.right-sidebar-panel li[style*='--depth: 2'] > a:hover {
  color: var(--theme-text);
}

/* Center main content better */
.main-pane {
  margin-right: auto;
}

/* ===========================================
   Lists (PYX/Mintlify style)
   =========================================== */
.sl-markdown-content ul {
  list-style-type: none; /* Hide native bullets, use custom ::before */
  padding-left: 0;
  margin-left: 0;
}

.sl-markdown-content ul > li {
  position: relative;
  padding-left: 2rem; /* 32px - matches Mintlify exactly */
}

.sl-markdown-content ul > li::before {
  content: '';
  position: absolute;
  left: 0.5rem; /* 8px from left edge */
  top: 0.6875rem; /* 11px - vertically centered with text */
  width: 0.375rem; /* 6px bullet */
  height: 0.375rem; /* 6px bullet */
  background-color: var(--theme-text-muted);
  border-radius: 50%;
}

/* Nested bullet lists - use open circles for child items */
.sl-markdown-content ul ul > li::before {
  background-color: transparent;
  border: 1.5px solid var(--theme-text-muted);
  width: 0.3125rem; /* 5px - slightly smaller */
  height: 0.3125rem;
}

/* Tabs component - reset list styling to prevent bullets on tab items */
.sl-markdown-content starlight-tabs ul,
.sl-markdown-content [role='tablist'] {
  list-style: none;
  padding-left: 0;
  margin-left: 0;
}

.sl-markdown-content starlight-tabs ul > li,
.sl-markdown-content [role='tablist'] > li {
  padding-left: 0;
  margin-bottom: 0;
}

.sl-markdown-content starlight-tabs ul > li::before,
.sl-markdown-content [role='tablist'] > li::before {
  content: none;
  display: none;
}

.sl-markdown-content ol:not(.sl-steps) {
  list-style-type: decimal;
  list-style-position: outside;
  padding-left: 1.5rem; /* 24px - matches Mintlify exactly */
  margin-left: 0;
}

.sl-markdown-content ol:not(.sl-steps) > li {
  padding-left: 0.5rem; /* 8px gap between number and text - matches Mintlify */
  margin-bottom: 0.5rem;
}

.sl-markdown-content ol:not(.sl-steps) > li::marker {
  color: var(--theme-text-muted); /* Lighter than text, matches Mintlify */
  font-weight: 400;
}

/* Breadcrumb reset - prevent global ol styling from applying */
.breadcrumbs ol,
nav.breadcrumbs ol {
  display: flex;
  flex-wrap: nowrap;
  list-style: none;
  list-style-type: none;
  padding-left: 0;
  margin: 0;
  gap: 0;
  white-space: nowrap;
}

.breadcrumbs ol > li,
nav.breadcrumbs ol > li {
  display: inline-flex;
  align-items: center;
  padding-left: 0;
  margin-bottom: 0;
}

/* Breadcrumb link styling - muted gray, not accent colors */
.breadcrumbs a,
nav.breadcrumbs a {
  color: var(--theme-text-muted);
}

.breadcrumbs a:hover,
nav.breadcrumbs a:hover {
  color: var(--theme-text);
}

/* ===========================================
   Code blocks (clean, Mintlify style - no window chrome)
   =========================================== */
pre {
  border: 1px solid var(--theme-border);
  border-radius: 0.75rem;
}

/* Hide code block headers by default - no window chrome, no tabs */
.expressive-code .frame .header,
.expressive-code .frame:not(.has-title) .header {
  display: none;
}

/* Show header for titled code blocks */
.expressive-code .frame.has-title .header {
  display: block;
  padding: 0.5rem 1rem;
  font-size: 0.8125rem;
  font-weight: 500;
  color: var(--theme-text-muted);
  background: var(--theme-bg-hover);
  border-bottom: 1px solid var(--theme-border);
}

/* Style the title text */
.expressive-code .frame.has-title .header .title {
  color: var(--theme-text-muted);
}

/* Hide screen reader only text in titled headers */
.expressive-code .frame.has-title .header .sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Clean up code block frame */
.expressive-code .frame {
  border: 1px solid var(--theme-border);
  border-radius: 0.75rem;
  overflow: hidden;
}

/* Copy button styling - Mintlify style (always visible, clean icon, no border) */
.expressive-code .copy {
  opacity: 1;
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
}

.expressive-code .copy button {
  all: unset;
  opacity: 1;
  border-radius: 0.25rem;
  padding: 0.25rem;
  width: 1.5rem;
  height: 1.5rem;
  cursor: pointer;
  transition: opacity 0.15s ease;
  display: block;
}

/* Hide the default expressive-code icon (::before/::after pseudo-elements) */
.expressive-code .copy button::before,
.expressive-code .copy button::after {
  display: none;
  content: none;
}

/* The div inside uses CSS mask for the icon - its background becomes the icon color */
.expressive-code .copy button div {
  width: 1rem;
  height: 1rem;
  opacity: 1;
  position: static;
  background: var(--theme-text-muted);
  transition: background 0.15s ease;
  /* Clipboard/copy icon SVG as mask - filled version for proper masking */
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='currentColor'%3E%3Cpath d='M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z'/%3E%3C/svg%3E");
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='currentColor'%3E%3Cpath d='M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z'/%3E%3C/svg%3E");
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: center;
  mask-position: center;
}

.expressive-code .copy button:hover div {
  background: var(--theme-text);
}

/* ===========================================
   Asides/Admonitions (Mintlify style)
   =========================================== */
.starlight-aside {
  border: none;
  border-left: 3px solid var(--sl-color-accent);
  border-radius: 0.5rem;
  padding: 1rem 1.25rem;
  margin: 1.5rem 0;
}

/* Note - blue */
.starlight-aside--note {
  border-left-color: #3b82f6;
  background: rgba(59, 130, 246, 0.08);
}

/* Tip - green */
.starlight-aside--tip {
  border-left-color: #22c55e;
  background: rgba(34, 197, 94, 0.08);
}

/* Caution - amber/orange */
.starlight-aside--caution {
  border-left-color: #f59e0b;
  background: rgba(245, 158, 11, 0.08);
}

/* Danger - red */
.starlight-aside--danger {
  border-left-color: #ef4444;
  background: rgba(239, 68, 68, 0.08);
}

.starlight-aside__title {
  font-weight: 600;
  font-size: 0.875rem;
  margin-bottom: 0.375rem;
  display: flex;
  align-items: center;
  gap: 0.375rem;
}

/* Color the title text to match the border */
.starlight-aside--note .starlight-aside__title {
  color: #3b82f6;
}

.starlight-aside--tip .starlight-aside__title {
  color: #22c55e;
}

.starlight-aside--caution .starlight-aside__title {
  color: #f59e0b;
}

.starlight-aside--danger .starlight-aside__title {
  color: #ef4444;
}

.starlight-aside__content {
  font-size: 0.9375rem;
}

.starlight-aside__content p:last-child {
  margin-bottom: 0;
}

/* ===========================================
   Header (Mintlify style - subtle border, more padding)
   =========================================== */
header.header {
  border-bottom: 1px solid var(--theme-header-border);
  padding-top: 1rem;
  padding-bottom: 1rem;
}

/* ===========================================
   Remove excessive rules/dividers
   =========================================== */
hr,
.sl-markdown-content hr {
  display: none;
}

/* Remove content panel borders */
.content-panel {
  border: none;
}

/* ===========================================
   Transitions (smooth hovers)
   =========================================== */
a,
button,
summary {
  transition:
    color 0.15s ease,
    background-color 0.15s ease,
    border-color 0.15s ease;
}

/* ===========================================
   Search Bar (Mintlify style - fixed width, centered)
   =========================================== */
/* Match Mintlify's exact search bar width and styling */
@media (min-width: 50rem) {
  /* The container holding site-search - center it in header */
  header.header .header > .sl-flex:has(site-search) {
    flex: 1 1 auto;
    justify-content: center;
    max-width: none;
    margin: 0 2rem;
  }

  /* Search button - fixed width like Mintlify (424px) */
  header site-search button[data-open-modal] {
    width: 424px;
    min-width: 424px;
    max-width: 424px;
  }
}

/* Search bar base styling - match Mintlify exactly */
header site-search button[data-open-modal] {
  height: 36px; /* Mintlify's exact height */
  padding: 0 12px 0 14px; /* Mintlify's exact padding */
  font-size: 0.875rem;
  border-radius: 12px; /* Mintlify uses 12px */
  border: 1px solid var(--theme-border); /* Subtle border like Mintlify */
  box-shadow: none;
}

/* Search bar placeholder text - lighter gray like Mintlify */
site-search button[data-open-modal] > span:first-of-type {
  color: var(--astral-gray-500); /* rgb(113, 112, 113) - matches Mintlify */
}

/* Hide the default "Search" text and show "Search..." via CSS */
site-search button[data-open-modal] > span:first-of-type {
  font-size: 0;
}

site-search button[data-open-modal] > span:first-of-type::after {
  content: 'Search...';
  font-size: 0.875rem;
  color: var(--astral-gray-500); /* rgb(113, 112, 113) - matches Mintlify */
}

/* Cmd+K keyboard shortcut - Mintlify style (NO gray background) */
header site-search button[data-open-modal] kbd {
  /* Reduce initial modal height - smaller before results load (PYX style) */
  max-height: 60vh;
  background: transparent;
  border: none;
  box-shadow: none;
  padding: 0;
  font-size: 12px;
  font-weight: 600;
  color: var(--astral-gray-500); /* rgb(113, 112, 113) - matches Mintlify */
}

/* The wrapper span around kbd elements - also transparent */
header site-search button[data-open-modal] > span:last-of-type {
  background: transparent;
  border: none;
  padding: 0;
}

/* Pagefind modal styling */
.pagefind-ui {
  --pagefind-ui-border-radius: 0.5rem;
  /* Reduce initial modal height - smaller before results load (PYX style) */
  max-height: 60vh;
}

/* Search dialog background - white in light mode, dark in dark mode */
dialog[aria-label='Search'][aria-label='Search'] {
  background-color: white;
}

:root[data-theme='dark'] dialog[aria-label='Search'][aria-label='Search'] {
  background-color: var(--sl-color-black);
}

/* Search results styling - match PYX/Mintlify */
.pagefind-ui__result {
  border: none;
  margin-bottom: 1rem;
}

/* Result inner container */
.pagefind-ui__result-inner {
  padding: 0;
}

/* Top-level page title - gets hover background */
.pagefind-ui__result-inner > .pagefind-ui__result-title {
  font-weight: 600;
  margin-bottom: 0.5rem;
  border-radius: 0.375rem;
  transition: background-color 0.15s ease;
}

/* Each nested section gets hover */
.pagefind-ui__result-nested {
  padding: 0.5rem 0.75rem 0.5rem 3rem;
  border-radius: 0.375rem;
  transition: background-color 0.15s ease;
  margin-bottom: 0.25rem;
  display: block;
  position: relative;
}

/* Title within nested section - force block display */
.pagefind-ui__result-nested .pagefind-ui__result-title {
  margin: 0 0 0.25rem 0;
  display: block;
}

/* Excerpt within nested section - force block display */
.pagefind-ui__result-nested .pagefind-ui__result-excerpt {
  margin: 0;
  display: block;
}

/* Result links - shared styles for both themes */
.pagefind-ui__result-link {
  color: var(--theme-text);
  text-decoration: none;
  outline: none;
}

.pagefind-ui__result-link:focus {
  outline: none;
  box-shadow: none;
}

.pagefind-ui__result-link:focus-visible {
  outline: 2px solid var(--theme-accent);
  outline-offset: 2px;
}

/* Light mode specific styles */
:root[data-theme='light'] .pagefind-ui__result-title {
  background: transparent;
}

:root[data-theme='light'] .pagefind-ui__result-excerpt {
  color: var(--theme-text-muted);
}

:root[data-theme='light'] .pagefind-ui__result-inner > .pagefind-ui__result-title:hover,
:root[data-theme='light'] .pagefind-ui__result-nested:hover {
  background: var(--theme-bg-hover);
}

/* Dark mode hover - subtle background */
:root[data-theme='dark'] .pagefind-ui__result-inner > .pagefind-ui__result-title:hover,
:root[data-theme='dark'] .pagefind-ui__result-nested:hover {
  background: var(--theme-bg-hover);
}

/* Remove any default yellow outlines from Pagefind */
.pagefind-ui * {
  outline-color: transparent;
}

.pagefind-ui *:focus:not(:focus-visible) {
  outline: none;
}

/* Search result mark/highlight - match theme */
:root[data-theme='light'] .pagefind-ui mark {
  color: var(--theme-text);
  background: rgba(99, 64, 172, 0.12);
  font-weight: 500;
  border-radius: 0.125rem;
  padding: 0 0.125rem;
}

:root[data-theme='dark'] .pagefind-ui mark {
  color: var(--theme-accent);
  background: rgba(215, 255, 100, 0.12);
  font-weight: 500;
  border-radius: 0.125rem;
  padding: 0 0.125rem;
}

/* ===========================================
   Links
   =========================================== */
a:hover {
  color: var(--theme-accent);
}

/* ===========================================
   Mintlify-style Sidebar
   =========================================== */

/* Sidebar panel - no border (Mintlify style uses whitespace separation) */
aside.sidebar,
aside.sidebar-pane,
nav.sidebar,
.sidebar.sidebar {
  border-right: none;
}

/* Right sidebar - no left border */
aside.right-sidebar,
.right-sidebar.right-sidebar {
  border-left: none;
}

/* Sidebar container - minimal left padding for Mintlify-style tight alignment */
.sidebar-content {
  padding: 1rem 0.5rem 1rem 0.25rem;
}

/* Top-level list - remove default spacing */
.sidebar-content ul {
  padding: 0;
  margin: 0;
  list-style: none;
}

/* Group container (details element) */
.sidebar-content details {
  margin-bottom: 0.25rem;
}

/* Group header (summary) - Mintlify style: simple, not uppercase, minimal left padding */
.sidebar-content summary {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.25rem 0.5rem 0.25rem 0.375rem;
  font-size: 0.9375rem;
  font-weight: 600;
  color: var(--theme-sidebar-header);
  cursor: pointer;
  border-radius: 0.375rem;
  transition: color 0.15s ease;
}

.sidebar-content summary:hover {
  color: var(--theme-sidebar-link-hover);
  background: var(--theme-bg-hover);
}

/* Active/current state for top-level group summaries - Mintlify style */
.sidebar-content summary.is-current {
  color: var(--astral-primary);
  background: rgba(38, 18, 48, 0.1);
  text-shadow:
    -0.2px 0 0 currentColor,
    0.2px 0 0 currentColor;
}

.sidebar-content summary.is-current:hover {
  color: var(--astral-primary);
  background: rgba(38, 18, 48, 0.1);
  text-shadow:
    -0.2px 0 0 currentColor,
    0.2px 0 0 currentColor;
}

.sidebar-content summary.is-current .large {
  color: inherit;
}

/* Hide default marker */
.sidebar-content summary::-webkit-details-marker,
.sidebar-content summary::marker {
  display: none;
  content: '';
}

/* Group label text */
.sidebar-content .group-label {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* Group link inside summary - must have no padding to match non-link groups */
.sidebar-content summary .group-link,
.sidebar-content .group-label .group-link {
  padding: 0;
  margin: 0;
}

/* Override Starlight's .large class on group labels */
.sidebar-content .group-label .large {
  font-size: 0.9375rem;
  font-weight: 600;
}

/* Nested group headers - styled like regular links */
.sidebar-content details details summary {
  font-size: 0.9375rem;
  font-weight: 400;
  text-transform: none;
  letter-spacing: normal;
  color: var(--theme-sidebar-link);
  padding: 0.25rem 0.5rem 0.25rem 0.375rem;
}

.sidebar-content details details summary:hover {
  color: var(--theme-sidebar-link-hover);
  background: var(--theme-bg-hover);
}

/* Active/current state for nested group summaries - Mintlify style */
.sidebar-content details details summary.is-current {
  color: var(--astral-primary);
  background: rgba(38, 18, 48, 0.1);
  text-shadow:
    -0.2px 0 0 currentColor,
    0.2px 0 0 currentColor;
}

.sidebar-content details details summary.is-current:hover {
  color: var(--astral-primary);
  background: rgba(38, 18, 48, 0.1);
  text-shadow:
    -0.2px 0 0 currentColor,
    0.2px 0 0 currentColor;
}

.sidebar-content details details summary.is-current .large {
  color: inherit;
}

.sidebar-content details details .group-label .large {
  font-size: 0.9375rem;
  font-weight: 400;
  color: inherit;
}

/* Caret icon */
.sidebar-content .caret {
  width: 1rem;
  height: 1rem;
  opacity: 0.5;
  transition:
    transform 0.2s ease,
    opacity 0.15s ease;
}

.sidebar-content summary:hover .caret {
  opacity: 0.8;
}

.sidebar-content details[open] > summary .caret {
  transform: rotate(90deg);
}

/* Remove all vertical bars from sidebar */
.sidebar-content ul,
.sidebar-content li,
nav.sidebar ul,
nav.sidebar li {
  border-left: none;
}

/* Child items inside groups - NO indent from parent heading (matches PYX/Mintlify) */
.sidebar-content details > ul {
  margin-top: 0.25rem;
  margin-left: 0;
  padding-left: 0;
}

/* Nested groups (2nd level) - add indent */
.sidebar-content details details > ul {
  margin-left: 0.75rem;
  padding-left: 0;
}

/* Link items - add small margin for whitespace between highlights */
.sidebar-content li {
  margin: 0;
  margin-bottom: 0.125rem;
  padding: 0;
}

/* Links - minimal left padding for tight alignment */
.sidebar-content a {
  display: block;
  padding: 0.25rem 0.5rem 0.25rem 0.375rem;
  font-size: 0.9375rem;
  font-weight: 400;
  color: var(--theme-sidebar-link);
  text-decoration: none;
  border-radius: 0.375rem;
}

.sidebar-content a:hover {
  color: var(--theme-sidebar-link-hover);
  background: var(--theme-bg-hover);
}

/* Selected item - Mintlify style with text-shadow for faux-bold (prevents layout shift) */
.sidebar-content a[aria-current='page'] {
  color: var(--astral-primary);
  background: rgba(38, 18, 48, 0.1);
  /* Text shadow creates faux-bold effect without changing font-weight */
  text-shadow:
    -0.2px 0 0 currentColor,
    0.2px 0 0 currentColor;
}

.sidebar-content a[aria-current='page']:hover {
  color: var(--astral-primary);
  background: rgba(38, 18, 48, 0.1);
  text-shadow:
    -0.2px 0 0 currentColor,
    0.2px 0 0 currentColor;
}

/* Remove Starlight's default top-level styling */
.sidebar-content .top-level > li {
  margin-bottom: 0.5rem;
}

/* Remove dividers between major sections */
.sidebar-content .top-level > li:not(:first-child) {
  padding-top: 0.5rem;
  border-top: none;
}

/* ===========================================
   Pagination (Mintlify style - small text links)
   =========================================== */
.pagination-links {
  display: flex;
  justify-content: space-between;
  gap: 1rem;
  margin-top: 2rem;
  padding-top: 1.5rem;
  border-top: 1px solid var(--theme-border);
}

.pagination-links a {
  all: unset;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  color: var(--theme-text-muted);
  font-size: 0.875rem;
  transition: color 0.15s ease;
  cursor: pointer;
}

.pagination-links a:hover {
  color: var(--theme-text);
}

/* Hide the br element */
.pagination-links a > span > br {
  display: none;
}

/* Parent span - hide the "Previous/Next" text by setting font-size to 0 */
.pagination-links a > span {
  font-size: 0;
  display: flex;
  flex-direction: column;
  gap: 0.125rem;
}

/* Show and style the page title */
.pagination-links .link-title {
  font-size: 0.9375rem;
  font-weight: 600;
  color: var(--theme-text);
  order: -1;
}

/* Add the Previous/Next label back using ::after on link-title */
.pagination-links a[rel='prev'] .link-title::after {
  content: 'Previous';
  display: block;
  font-size: 0.75rem;
  font-weight: 400;
  color: var(--theme-text-muted);
  margin-top: 0.125rem;
}

.pagination-links a[rel='next'] .link-title::after {
  content: 'Next';
  display: block;
  font-size: 0.75rem;
  font-weight: 400;
  color: var(--theme-text-muted);
  margin-top: 0.125rem;
}

/* Make arrows smaller */
.pagination-links svg {
  width: 1rem;
  height: 1rem;
  opacity: 0.6;
}

.pagination-links a:hover svg {
  opacity: 1;
}

/* Previous link alignment */
.pagination-links a[rel='prev'] {
  flex-direction: row;
}

/* Next link alignment */
.pagination-links a[rel='next'] {
  flex-direction: row-reverse;
  margin-left: auto;
}

/* ===========================================
   Mobile Header Fix - Search button and hamburger styling
   =========================================== */
@media (max-width: 49.9999rem) {
  /* Ensure the search button container in header has higher z-index than mobile menu */
  header.header .sl-flex:has(site-search) {
    position: relative;
    z-index: 15;
  }

  /* Also ensure site-search itself has proper z-index */
  header.header site-search {
    position: relative;
    z-index: 15;
  }

  /* Remove round button styling from search button - just show the icon */
  header.header site-search button[data-open-modal] {
    all: unset;
    margin-right: 0.5rem;
    padding: 0.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 32px;
    cursor: pointer;
  }

  /* Remove round button styling from hamburger menu button */
  header starlight-menu-button button {
    all: unset;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 32px;
    cursor: pointer;
  }

  /* Make hamburger icon visible in dark mode */
  header starlight-menu-button button svg {
    color: var(--sl-color-white);
    fill: currentColor;
  }
}

/* ===========================================
   Social Icons (Brand-appropriate colors)
   =========================================== */
/* GitHub - black on light, white on dark */
:root[data-theme='light'] .social-icons a[href*='github.com'] {
  color: #000000;
}

:root[data-theme='light'] .social-icons a[href*='github.com']:hover {
  color: #333333;
}

:root[data-theme='dark'] .social-icons a[href*='github.com'] {
  color: #ffffff;
}

:root[data-theme='dark'] .social-icons a[href*='github.com']:hover {
  color: #cccccc;
}

/* Discord - black on light, white on dark */
:root[data-theme='light'] .social-icons a[href*='discord.com'] {
  color: #000000;
}

:root[data-theme='light'] .social-icons a[href*='discord.com']:hover {
  color: #333333;
}

:root[data-theme='dark'] .social-icons a[href*='discord.com'] {
  color: #ffffff;
}

:root[data-theme='dark'] .social-icons a[href*='discord.com']:hover {
  color: #5865f2;
}

/* ===========================================
   Instant View Transitions (Mintlify/PYX style)
   =========================================== */
/* Make view transitions instant - no visible animation */
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
}

/* Also disable any other view transition animations */
::view-transition-group(*),
::view-transition-image-pair(*) {
  animation: none;
}
